{"ast":null,"code":"import _toConsumableArray from \"/home/ernohanninen/simpli-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/ernohanninen/simpli-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/ernohanninen/simpli-app/src/App.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n//created 15. may\nimport React, { useState } from 'react'; //import * as React from 'react';\n\nimport './App.css';\nimport axios from \"axios\"; //import React from \"react\";\n\nimport { v4 as uuidv4 } from 'uuid';\nimport Table from \"./sample_table.js\";\nimport { tab } from '@testing-library/user-event/dist/tab';\n\nfunction App() {\n  var _this = this;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      submitting = _useState2[0],\n      setSubmitting = _useState2[1]; //const [tableData, setTableData] = useState([])\n\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      sample = _useState4[0],\n      setSample = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      color = _useState6[0],\n      setColor = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      comparison = _useState8[0],\n      setComparison = _useState8[1];\n\n  var _useState9 = useState([{\n    id: uuidv4(),\n    tiff: '',\n    marker: '',\n    label: ''\n  }]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      inputFields = _useState10[0],\n      setInputFields = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      tableData = _useState12[0],\n      setTableData = _useState12[1];\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault(); //Collects the sample, color and comparison inputs to a list\n\n    var sample_metadata = [sample, color, comparison];\n    var markers = [];\n    var tiffs = [];\n    var labels = []; //const [tiffs, setTiffs] = useState()\n\n    for (var i = 0; i < inputFields.length; i++) {\n      var tiff_name = \"\"; //tiff_name = inputFields[i][\"tiff\"]\n\n      markers[i] = inputFields[i][\"marker\"];\n      labels[i] = inputFields[i][\"label\"];\n      tiffs[i] = inputFields[i][\"tiff\"]; //let index = tiff_name.lastIndexOf(\"\\\\\");\n      //tiffs[i] = tiff_name.slice(index+1)\n    }\n\n    console.log(markers);\n    console.log(tiffs);\n    console.log(labels);\n    var formData = new FormData(); //formData.append(\"id\", inputFields[0][\"id\"])\n\n    formData.append(\"sample\", sample);\n    formData.append(\"color\", color);\n    formData.append(\"comparison\", comparison);\n    formData.append(\"tiffs\", inputFields[0][\"tiff\"]);\n    formData.append(\"marker\", markers);\n    formData.append(\"labels\", labels);\n    var newData = [];\n\n    var _iterator = _createForOfIteratorHelper(formData.entries()),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var pair = _step.value;\n\n        if (typeof pair[1] == \"object\") {\n          console.log;\n          console.log(pair[1].name);\n        }\n\n        newData[pair[0]] = pair[1];\n        console.log(pair[1]);\n      } //Display the form data in html table\n\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    var d = function d(data) {\n      return [].concat(_toConsumableArray(data), [newData]);\n    };\n\n    setTableData(d); //Send formData to backend \n\n    var url = '/sampleMetadata';\n    axios.post(url, formData).then(function (response) {\n      if (response.data == \"error\") {\n        //If error\n        console.log(\"########ERROR########\");\n      } else {\n        //IF everyting okay\n        console.log(\"READY\");\n      }\n    });\n    event.target.reset(); //Empty variables\n    //Removes the dynamically created \"add new tiff\" elements\n\n    inputFields.map(function (i) {\n      var values = inputFields;\n      values.splice(values.findIndex(function (value) {\n        return value.id === i.id;\n      }), inputFields.length - 1);\n      setInputFields(values);\n    });\n    setSubmitting(true);\n    setTimeout(function () {\n      setSubmitting(false);\n    }, 1);\n  };\n  /*const handleChange = (id,event) => {\n    setFormData({\n      name: event.target.name,\n      value: event.target.value,\n    });\n    const newInputFields = inputFields.map(i => {\n      if(id === i.id) {\n        console.log(\"_______________\")\n        console.log(event.target.name)\n        console.log(i[i[event.target.name]])\n        i[event.target.name] = event.target.value\n       }\n      return i;\n    })\n    \n    setInputFields(newInputFields);\n   }*/\n\n\n  var handleChangeInput = function handleChangeInput(id, event) {\n    var newInputFields = inputFields.map(function (i) {\n      if (id === i.id) {\n        if (event.target.name == \"tiff\") {\n          console.log(event.target.files[0]);\n          console.log(event.target.name);\n          i[event.target.name] = event.target.files[0];\n        } else {\n          i[event.target.name] = event.target.value;\n        }\n      }\n\n      return i;\n    });\n    setInputFields(newInputFields);\n  };\n\n  var addNewTiff = function addNewTiff(event) {\n    setInputFields([].concat(_toConsumableArray(inputFields), [{\n      id: uuidv4(),\n      tiff: '',\n      marker: ''\n    }]));\n  };\n\n  var handleRemoveFields = function handleRemoveFields(id) {\n    var values = _toConsumableArray(inputFields);\n\n    values.splice(values.findIndex(function (value) {\n      return value.id === id;\n    }), 1);\n    setInputFields(values);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 19\n    }\n  }, \"Sample\"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"sample\",\n    onChange: function onChange(e) {\n      return setSample(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 19\n    }\n  }, \"Color\"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"color\",\n    onChange: function onChange(e) {\n      return setColor(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 19\n    }\n  }, \"Comparison\"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"comparison\",\n    onChange: function onChange(e) {\n      return setComparison(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 19\n    }\n  }))), inputFields.map(function (inputField) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: inputField.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }, \"Load tiff\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"tiff\",\n      type: \"file\",\n      onChange: function onChange(event) {\n        return handleChangeInput(inputField.id, event);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 19\n      }\n    }, \"Marker\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"marker\",\n      onChange: function onChange(event) {\n        return handleChangeInput(inputField.id, event);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 19\n      }\n    }, \"Label\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"label\",\n      onChange: function onChange(event) {\n        return handleChangeInput(inputField.id, event);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-remove\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      disabled: inputFields.length === 1,\n      onClick: function onClick() {\n        return handleRemoveFields(inputField.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 15\n      }\n    }, \"Remove\"))));\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: addNewTiff,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, \"Add new tiff\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(Table, {\n    tableData: tableData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"names":["React","useState","axios","v4","uuidv4","Table","tab","App","submitting","setSubmitting","sample","setSample","color","setColor","comparison","setComparison","id","tiff","marker","label","inputFields","setInputFields","tableData","setTableData","handleSubmit","event","preventDefault","sample_metadata","markers","tiffs","labels","i","length","tiff_name","console","log","formData","FormData","append","newData","entries","pair","name","d","data","url","post","then","response","target","reset","map","values","splice","findIndex","value","setTimeout","handleChangeInput","newInputFields","files","addNewTiff","handleRemoveFields","e","inputField"],"sources":["/home/ernohanninen/simpli-app/src/App.js"],"sourcesContent":["//created 15. may\nimport React, { useState } from 'react';\n//import * as React from 'react';\nimport './App.css';\nimport axios from \"axios\";\n//import React from \"react\";\nimport { v4 as uuidv4 } from 'uuid';\nimport Table from \"./sample_table.js\";\nimport { tab } from '@testing-library/user-event/dist/tab';\n\nfunction App() {\n\n  const [submitting, setSubmitting] = useState(false);\n  //const [tableData, setTableData] = useState([])\n\n  const [sample, setSample] = useState(\"\");\n  const [color, setColor] = useState(\"\");\n  const [comparison, setComparison] = useState(\"\");\n  const [inputFields, setInputFields] = useState([\n    { id: uuidv4(), tiff: '', marker: '', label:''},\n  ]);\n\n  const [tableData, setTableData] = useState([\n    \n  ])\n\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    //Collects the sample, color and comparison inputs to a list\n    const sample_metadata = [sample, color, comparison]\n    \n    const markers = []\n    const tiffs = []\n    const labels = []\n\n    //const [tiffs, setTiffs] = useState()\n\n    for(let i=0;i<inputFields.length;i++){\n        let tiff_name = \"\"\n        //tiff_name = inputFields[i][\"tiff\"]\n        markers[i] = inputFields[i][\"marker\"]\n        labels[i] = inputFields[i][\"label\"]\n        tiffs[i] = inputFields[i][\"tiff\"]\n        //let index = tiff_name.lastIndexOf(\"\\\\\");\n        //tiffs[i] = tiff_name.slice(index+1)\n    }\n    console.log(markers)\n    console.log(tiffs)\n    console.log(labels)\n\n    \n    const formData = new FormData()\n    //formData.append(\"id\", inputFields[0][\"id\"])\n    formData.append(\"sample\", sample)\n    formData.append(\"color\", color)\n    formData.append(\"comparison\", comparison)\n    formData.append(\"tiffs\", inputFields[0][\"tiff\"])\n    formData.append(\"marker\", markers)\n    formData.append(\"labels\", labels)\n\n    const newData = []\n    for (const pair of formData.entries()) {\n      if(typeof(pair[1])==\"object\"){\n        console.log\n        console.log(pair[1].name)\n      }\n      newData[pair[0]] = pair[1]\n      console.log(pair[1])\n\n    }\n  \n\n    //Display the form data in html table\n    const d = (data)=>([...data,newData])\n    setTableData(d)\n\n    //Send formData to backend \n    const url = '/sampleMetadata';\n    axios.post(url, formData).then((response) =>{\n      if(response.data==\"error\"){ //If error\n        console.log(\"########ERROR########\")\n      }\n      else{ //IF everyting okay\n        console.log(\"READY\")\n      }\n    });\n   \n    \n    \n    event.target.reset()//Empty variables\n    //Removes the dynamically created \"add new tiff\" elements\n      inputFields.map(i => {\n        const values  = inputFields\n        values.splice(values.findIndex(value => value.id === i.id), inputFields.length-1);       \n        setInputFields(values);\n      })\n\n    setSubmitting(true);\n    setTimeout(() => {\n      setSubmitting(false);\n    }, 1);\n  }\n\n  /*const handleChange = (id,event) => {\n    setFormData({\n      name: event.target.name,\n      value: event.target.value,\n    });\n    const newInputFields = inputFields.map(i => {\n      if(id === i.id) {\n        console.log(\"_______________\")\n        console.log(event.target.name)\n        console.log(i[i[event.target.name]])\n        i[event.target.name] = event.target.value\n\n      }\n      return i;\n    })\n    \n    setInputFields(newInputFields);\n\n  }*/\n\n  const handleChangeInput = (id, event) => {\n    const newInputFields = inputFields.map(i => {\n      if(id === i.id) {\n\n        if(event.target.name == \"tiff\"){\n          console.log(event.target.files[0])\n          console.log(event.target.name)\n          i[event.target.name] = event.target.files[0]\n        }\n        else{\n          i[event.target.name] = event.target.value\n\n        }\n\n      }\n      \n      return i;\n    })\n    \n    setInputFields(newInputFields);\n    \n   \n  }\n\n  \n\n  const addNewTiff = event =>{\n    setInputFields([...inputFields, { id: uuidv4(),  tiff: '', marker: '' }])\n  }\n\n  const handleRemoveFields = id => {\n    const values  = [...inputFields];\n    values.splice(values.findIndex(value => value.id === id), 1);\n    setInputFields(values);\n  }\n\n  return (\n<div>\n      \n      <form  onSubmit={handleSubmit}>\n      \n          <div class=\"row\">\n            <div class=\"col-1\">    \n                  <p>Sample</p>\n                  <input name=\"sample\" onChange={(e)=>setSample(e.target.value)}/>                \n\n            </div>\n            <div class=\"col-2\">    \n\n                  <p>Color</p>\n                  <input name=\"color\" onChange={(e)=>setColor(e.target.value)}/>\n            </div>\n            <div class=\"col-3\">    \n\n                  <p>Comparison</p>\n              \n                  <input name=\"comparison\" onChange={(e)=>setComparison(e.target.value)}/>\n            \n            </div>\n            </div>\n\n            { inputFields.map(inputField => (\n         \n            \n            <div key={inputField.id}>\n           <div class=\"row\">\n            <div class=\"col-1\">    \n                  <p>Load tiff</p>\n                  <input name=\"tiff\" type = \"file\" onChange={event => handleChangeInput(inputField.id,event)}/>                \n\n            </div>\n            <div class=\"col-2\">    \n                  <p>Marker</p>\n                  <input name=\"marker\" onChange={event => handleChangeInput(inputField.id,event)}/>                \n\n            </div>\n            <div class=\"col-3\">    \n                  <p>Label</p>\n                  <input name=\"label\" onChange={event => handleChangeInput(inputField.id,event)}/>                \n\n            </div>\n            <div class=\"col-remove\">\n              <button disabled={inputFields.length === 1} onClick={() => handleRemoveFields(inputField.id)}>Remove</button>\n              \n            </div>\n          \n           \n          </div>\n          </div>\n\n          )) }\n          <button type=\"button\" onClick={addNewTiff}>Add new tiff</button>\n               \n        <button type=\"submit\">Submit</button>\n      </form>\n      <Table tableData={tableData}/>\n      \n      </div>\n  );\n}\n\nexport default App;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}