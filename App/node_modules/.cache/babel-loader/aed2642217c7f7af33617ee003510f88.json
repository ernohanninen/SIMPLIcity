{"ast":null,"code":"import _toConsumableArray from \"/home/ernohanninen/simpli-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/ernohanninen/simpli-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/ernohanninen/simpli-app/src/getResults.js\";\n\nimport React, { useState, forwardRef, useImperativeHandle } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport { toBeRequired } from '@testing-library/jest-dom/dist/matchers';\nvar GetResults = forwardRef(function (props, ref) {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      plotPaths = _useState2[0],\n      setPlotPaths = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      areaPlots = _useState4[0],\n      setAreaPlots = _useState4[1];\n\n  useImperativeHandle(ref, function () {\n    return {\n      submitSettings: function submitSettings() {\n        console.log(\"OK\");\n        axios.get(\"/submitSettings\").then(function (response) {\n          console.log(response.data[0]);\n          var paths = response[0];\n          setPlotPaths(paths);\n          displayImages(paths);\n        });\n      }\n    };\n  });\n\n  var displayImages = function displayImages(paths) {\n    setAreaPlots( /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: require(paths),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }\n    })));\n    setMarkerTextBox([].concat(_toConsumableArray(markerTextBox), [/*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      id: id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: id,\n      onBlur: function onBlur(event) {\n        return handleChangeMarker(id, event, \"marker\");\n      },\n      size: \"10\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: id,\n      onBlur: function onBlur(event) {\n        return handleChangeMarker(id, event, \"mainMarker\");\n      },\n      size: \"10\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      disabled: markerTextBox.length === 0,\n      onClick: function onClick() {\n        return removeMarker(id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }, \"Remove\")))]));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    hidden: true,\n    id: \"load\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"Running the analysis.\"))), /*#__PURE__*/React.createElement(\"div\", {\n    hidden: true,\n    id: \"results\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"Display results\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://localhost:3000\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"Home page\"))));\n});\nexport default GetResults; //      <App callparentFunction={()=>handleSettingsSubmit}/>","map":{"version":3,"names":["React","useState","forwardRef","useImperativeHandle","axios","toBeRequired","GetResults","props","ref","plotPaths","setPlotPaths","areaPlots","setAreaPlots","submitSettings","console","log","get","then","response","data","paths","displayImages","require","setMarkerTextBox","markerTextBox","id","event","handleChangeMarker","length","removeMarker"],"sources":["/home/ernohanninen/simpli-app/src/getResults.js"],"sourcesContent":["import React,  { useState, forwardRef, useImperativeHandle } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport { toBeRequired } from '@testing-library/jest-dom/dist/matchers';\n\n\nconst GetResults = forwardRef((props, ref)=>{\n\n    const [plotPaths, setPlotPaths] = useState(\"\")\n    const [areaPlots, setAreaPlots] = useState(\"\")\n\n\n\n    useImperativeHandle(ref, ()=>({\n        submitSettings(){\n            console.log(\"OK\")\n            axios.get(\"/submitSettings\")\n            .then(function(response){\n               console.log(response.data[0])\n               let paths = response[0]\n               setPlotPaths(paths)\n               displayImages(paths)          \n\n            })\n        }\n    }))\n\n    const displayImages = (paths) => { \n        \n        setAreaPlots(<div>\n            <img src={require(paths)}/>\n        </div>)\n\n\n        setMarkerTextBox([...markerTextBox,\n            <div class=\"row\" id={id}>\n                <div class=\"col-1\">    \n                    <input name={id}  onBlur={event => handleChangeMarker(id,event, \"marker\")} size=\"10\"/>                \n                </div>\n                <div class=\"col-2\">    \n                    <input name={id} onBlur={event => handleChangeMarker(id,event, \"mainMarker\")} size=\"10\"/>                \n                </div>\n                <div class=\"col-3\">\n                    <button disabled={markerTextBox.length === 0} onClick={() => removeMarker(id)}>Remove</button>        \n                </div> \n    \n            </div>\n            ]) \n\n    }\n  \n\n    return(\n    <div>\n\n      <div hidden id=\"load\">\n        <header>\n          <p>Running the analysis.</p>         \n        </header>\n      </div>\n\n\n      <div hidden id=\"results\">\n        <header>\n          <p>Display results</p>\n        \n          <a href=\"http://localhost:3000\">Home page</a>    \n        </header>\n      </div>\n\n\n    </div>\n\n    )\n})\nexport default GetResults;\n //      <App callparentFunction={()=>handleSettingsSubmit}/>\n\n "],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAiBC,QAAjB,EAA2BC,UAA3B,EAAuCC,mBAAvC,QAAkE,OAAlE;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,SAASC,YAAT,QAA6B,yCAA7B;AAGA,IAAMC,UAAU,GAAGJ,UAAU,CAAC,UAACK,KAAD,EAAQC,GAAR,EAAc;EAAA,gBAENP,QAAQ,CAAC,EAAD,CAFF;EAAA;EAAA,IAEjCQ,SAFiC;EAAA,IAEtBC,YAFsB;;EAAA,iBAGNT,QAAQ,CAAC,EAAD,CAHF;EAAA;EAAA,IAGjCU,SAHiC;EAAA,IAGtBC,YAHsB;;EAOxCT,mBAAmB,CAACK,GAAD,EAAM;IAAA,OAAK;MAC1BK,cAD0B,4BACV;QACZC,OAAO,CAACC,GAAR,CAAY,IAAZ;QACAX,KAAK,CAACY,GAAN,CAAU,iBAAV,EACCC,IADD,CACM,UAASC,QAAT,EAAkB;UACrBJ,OAAO,CAACC,GAAR,CAAYG,QAAQ,CAACC,IAAT,CAAc,CAAd,CAAZ;UACA,IAAIC,KAAK,GAAGF,QAAQ,CAAC,CAAD,CAApB;UACAR,YAAY,CAACU,KAAD,CAAZ;UACAC,aAAa,CAACD,KAAD,CAAb;QAEF,CAPD;MAQH;IAXyB,CAAL;EAAA,CAAN,CAAnB;;EAcA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACD,KAAD,EAAW;IAE7BR,YAAY,eAAC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACT;MAAK,GAAG,EAAEU,OAAO,CAACF,KAAD,CAAjB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADS,CAAD,CAAZ;IAKAG,gBAAgB,8BAAKC,aAAL,iBACZ;MAAK,KAAK,EAAC,KAAX;MAAiB,EAAE,EAAEC,EAArB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI;MAAK,KAAK,EAAC,OAAX;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI;MAAO,IAAI,EAAEA,EAAb;MAAkB,MAAM,EAAE,gBAAAC,KAAK;QAAA,OAAIC,kBAAkB,CAACF,EAAD,EAAIC,KAAJ,EAAW,QAAX,CAAtB;MAAA,CAA/B;MAA2E,IAAI,EAAC,IAAhF;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADJ,CADJ,eAII;MAAK,KAAK,EAAC,OAAX;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI;MAAO,IAAI,EAAED,EAAb;MAAiB,MAAM,EAAE,gBAAAC,KAAK;QAAA,OAAIC,kBAAkB,CAACF,EAAD,EAAIC,KAAJ,EAAW,YAAX,CAAtB;MAAA,CAA9B;MAA8E,IAAI,EAAC,IAAnF;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADJ,CAJJ,eAOI;MAAK,KAAK,EAAC,OAAX;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI;MAAQ,QAAQ,EAAEF,aAAa,CAACI,MAAd,KAAyB,CAA3C;MAA8C,OAAO,EAAE;QAAA,OAAMC,YAAY,CAACJ,EAAD,CAAlB;MAAA,CAAvD;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,YADJ,CAPJ,CADY,GAAhB;EAeH,CAtBD;;EAyBA,oBACA;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAEE;IAAK,MAAM,MAAX;IAAY,EAAE,EAAC,MAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,2BADF,CADF,CAFF,eASE;IAAK,MAAM,MAAX;IAAY,EAAE,EAAC,SAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,qBADF,eAGE;IAAG,IAAI,EAAC,uBAAR;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,eAHF,CADF,CATF,CADA;AAsBH,CApE4B,CAA7B;AAqEA,eAAenB,UAAf,C,CACC"},"metadata":{},"sourceType":"module"}