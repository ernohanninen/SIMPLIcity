{"ast":null,"code":"import _toConsumableArray from \"/home/ernohanninen/simpli-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/ernohanninen/simpli-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/ernohanninen/simpli-app/src/getResults.js\";\n\nimport React, { useState, forwardRef, useImperativeHandle } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport Table from \"./sample_table.js\";\n\nvar GetResults = function GetResults() {\n  //Variables\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      plotPaths = _useState2[0],\n      setPlotPaths = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      areaPlots = _useState4[0],\n      setAreaPlots = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sampleImages = _useState6[0],\n      setSampleImages = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      dropDown = _useState8[0],\n      setDropDown = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      checkbox = _useState10[0],\n      setCheckbox = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      displaySegmentationCb = _useState12[0],\n      setDisplaySegmentationCb = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      preprocessedCb = _useState14[0],\n      setPreprocessedCb = _useState14[1]; //const [displaySegmented, setDisplaySegmented] = useState(true)\n\n\n  var sample = \"\"; //Function which get the images from backend\n\n  var displayResults = function displayResults() {\n    document.getElementById(\"resultsButton\").style.display = \"none\";\n    axios.get(\"/fetchResults\").then(function (response) {\n      var data = response.data; //Response value is a dictionary\n      //Extracting values from dictionary\n\n      var samples = data[\"samples\"];\n      var area = data[\"area\"];\n      console.log(area);\n      console.log(samples);\n      setPlotPaths(area);\n      displayImages(area, samples); //Calling function which displays the images         \n    });\n  }; //Function which displays the images to the user\n\n\n  var displayImages = function displayImages(area, samples) {\n    //Get the values for drop-down list\n    var optionItems = Object.entries(samples).map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      return /*#__PURE__*/React.createElement(\"option\", {\n        value: key,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }\n      }, key);\n    }); //Create the dropdown list\n\n    setDropDown( /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, \"Quality control: \"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"sampleSelector\",\n      id: \"sampleSelector\",\n      onChange: function onChange(event) {\n        return handleChangeSelect(event);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      id: \"optionNone\",\n      value: \"None\",\n      selected: \"true\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 18\n      }\n    }, \"None\"), optionItems)));\n    var segmentation = false;\n    console.log(samples);\n    console.log(Object.keys(samples));\n    console.log(samples[Object.keys(samples)[0]].length);\n\n    if (samples[Object.keys(samples)[0]].length === 4) {\n      segmentation = true;\n    }\n\n    console.log(segmentation);\n    segmentation = false;\n    setDisplaySegmentationCb(segmentation); //Map samples and set the images to variable\n\n    setSampleImages(Object.entries(samples).map(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          value = _ref4[1];\n\n      var idThresholded = \"idThres\" + key;\n      var idPreprocessed = \"idPre\" + key;\n      var idSegmented = \"idSeg\" + key;\n      return [].concat(_toConsumableArray(sampleImages), [/*#__PURE__*/React.createElement(\"div\", {\n        id: key,\n        hidden: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"preprocessedDiv\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }\n      }, \"Preprocessed \", key), /*#__PURE__*/React.createElement(\"img\", {\n        class: \"contain\",\n        id: idPreprocessed,\n        src: require(\"../src/images/\" + value[0][\"preprocessed\"]),\n        onClick: function onClick(event) {\n          return displayFullScreen(idPreprocessed);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"thresholdedDiv\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      }, \"Thresholded \", key), /*#__PURE__*/React.createElement(\"img\", {\n        class: \"contain\",\n        id: idThresholded,\n        src: require(\"../src/images/\" + value[1][\"thresholded\"]),\n        onClick: function onClick(event) {\n          return displayFullScreen(idThresholded);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }\n      })), segmentation ? /*#__PURE__*/React.createElement(\"div\", {\n        id: \"segmentedDiv\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }\n      }, \"Segmented \", key), /*#__PURE__*/React.createElement(\"img\", {\n        class: \"contain\",\n        id: idSegmented,\n        src: require(\"../src/images/\" + value[2][\"overlays\"]),\n        onClick: function onClick(event) {\n          return displayFullScreen(idSegmented);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }\n      })) : /*#__PURE__*/React.createElement(React.Fragment, null))]);\n    })); //Set marker area plot\n\n    if (area != \"\") {\n      setAreaPlots( /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      }, \"Measurement of marker positive area\"), /*#__PURE__*/React.createElement(\"img\", {\n        id: \"areaPlot\",\n        src: require(\"../src/images/Area/\" + area),\n        onClick: function onClick(event) {\n          return displayFullScreen(\"areaPlot\");\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }\n      })));\n    }\n  };\n\n  var displayFullScreen = function displayFullScreen(id) {\n    var elem = document.getElementById(id);\n\n    if (document.fullscreenElement) {\n      document.exitFullscreen();\n    } else {\n      if (elem.requestFullscreen) {\n        elem.requestFullscreen();\n      } else if (elem.webkitRequestFullscreen) {\n        /* Safari */\n        elem.webkitRequestFullscreen();\n      } else if (elem.msRequestFullscreen) {\n        /* IE11 */\n        elem.msRequestFullscreen();\n      }\n    }\n  }; //Handles changes in the sample drop-down list\n\n\n  var handleChangeSelect = function handleChangeSelect(event) {\n    //displays images/nothing depending of the selected drop-down value\n    if (event.target.value == \"None\") {\n      setCheckbox(\"\");\n    } else {\n      var checked = true;\n      setCheckbox( /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"checkbox\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }\n      }, \"Preprocessed image: \"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        id: \"preprocessedImgCheck\",\n        onChange: function onChange() {\n          handleCheckbox(\"idPre\", \"preprocessedDiv\", \"preprocessedImgCheck\");\n        },\n        checked: \"\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"checkbox\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }\n      }, \"Thresholded image: \"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        id: \"thresholdImgCheck\",\n        onChange: function onChange() {\n          return handleCheckbox(\"idThres\", \"thresholdedDiv\", \"thresholdImgCheck\");\n        },\n        checked: \"\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }\n      })), displaySegmentationCb ? /*#__PURE__*/React.createElement(\"div\", {\n        class: \"checkbox\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 22\n        }\n      }, \"Segmented image: \"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        id: \"segmentedImgCheck\",\n        onChange: function onChange() {\n          return handleCheckbox(\"idSeg\", \"segmentedDiv\", \"segmentedImgCheck\");\n        },\n        checked: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 22\n        }\n      })) : /*#__PURE__*/React.createElement(React.Fragment, null)));\n    }\n\n    if (event.target.value != \"None\") {\n      document.getElementById(event.target.value).style.display = \"block\";\n    } //Hides images depending of the value\n\n\n    if (sample != \"\" && sample != \"None\") {\n      document.getElementById(sample).style.display = \"none\";\n    }\n\n    sample = event.target.value;\n  };\n\n  var handleCheckbox = function handleCheckbox(idImg, idDiv, idCb) {\n    var elem = document.getElementById(idDiv);\n\n    if (window.getComputedStyle(elem).display == \"block\") {\n      console.log(\"HERE\");\n      elem.style.display = \"none\";\n    } else if (window.getComputedStyle(elem).display == \"none\") {\n      elem.style.display = \"block\";\n    }\n  }; //Display HTML to the user\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    class: \"resultsForm\",\n    id: \"resultsForm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    hidden: true,\n    id: \"load\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }, \"Running SIMPLI\")), /*#__PURE__*/React.createElement(\"div\", {\n    hidden: true,\n    id: \"results\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  }, \"SIMPLI results\"), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"resultsButton\",\n    type: \"button\",\n    onClick: function onClick(event) {\n      return displayResults();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }\n  }, \"Display results\"), dropDown, checkbox, sampleImages, areaPlots)));\n};\n\nexport default GetResults;","map":{"version":3,"names":["React","useState","forwardRef","useImperativeHandle","axios","Table","GetResults","plotPaths","setPlotPaths","areaPlots","setAreaPlots","sampleImages","setSampleImages","dropDown","setDropDown","checkbox","setCheckbox","displaySegmentationCb","setDisplaySegmentationCb","preprocessedCb","setPreprocessedCb","sample","displayResults","document","getElementById","style","display","get","then","response","data","samples","area","console","log","displayImages","optionItems","Object","entries","map","key","value","event","handleChangeSelect","segmentation","keys","length","idThresholded","idPreprocessed","idSegmented","require","displayFullScreen","id","elem","fullscreenElement","exitFullscreen","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","target","checked","handleCheckbox","idImg","idDiv","idCb","window","getComputedStyle"],"sources":["/home/ernohanninen/simpli-app/src/getResults.js"],"sourcesContent":["import React,  { useState, forwardRef, useImperativeHandle } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport Table from \"./sample_table.js\";\n\n\n\nconst GetResults = () => { \n    \n    //Variables\n    const [plotPaths, setPlotPaths] = useState(\"\")\n    const [areaPlots, setAreaPlots] = useState(\"\")\n    const [sampleImages, setSampleImages] = useState(\"\")\n    const [dropDown, setDropDown] = useState(\"\")\n    const [checkbox, setCheckbox] = useState(\"\")\n    const [displaySegmentationCb, setDisplaySegmentationCb] = useState(\"\")\n    const [preprocessedCb, setPreprocessedCb] = useState(false)\n    //const [displaySegmented, setDisplaySegmented] = useState(true)\n\n    var sample = \"\"\n\n    //Function which get the images from backend\n    const displayResults = () => {\n        document.getElementById(\"resultsButton\").style.display = \"none\"\n        axios.get(\"/fetchResults\")\n        .then(function(response){\n           let data = response.data //Response value is a dictionary\n           //Extracting values from dictionary\n           let samples = data[\"samples\"]\n           let area = data[\"area\"]\n           console.log(area)\n           console.log(samples)\n        \n           setPlotPaths(area)    \n           displayImages(area, samples) //Calling function which displays the images         \n        })\n    }\n    //Function which displays the images to the user\n    const displayImages = (area, samples) => { \n        //Get the values for drop-down list\n        let optionItems = Object.entries(samples).map(([key,value]) => \n            <option value={key}>{key}</option>\n        )\n\n\n        //Create the dropdown list\n        setDropDown(\n        <div class=\"row\">\n            <p>Quality control: </p>\n            <select name=\"sampleSelector\" id=\"sampleSelector\" onChange={event => handleChangeSelect(event)}>\n                 <option id=\"optionNone\" value=\"None\" selected=\"true\">None</option>  \n                 {optionItems}\n                  \n            </select>\n            \n            \n        </div>\n        )\n        let segmentation = false\n        console.log(samples)\n        console.log(Object.keys(samples))\n        console.log(samples[Object.keys(samples)[0]].length)\n        if(samples[Object.keys(samples)[0]].length === 4){\n            segmentation = true\n        }\n        console.log(segmentation)\n        segmentation = false\n        setDisplaySegmentationCb(segmentation)\n        \n        \n\n  \n        //Map samples and set the images to variable\n        setSampleImages(Object.entries(samples).map(([key,value]) => {\n            let idThresholded = \"idThres\" +key\n            let idPreprocessed = \"idPre\" +key\n            let idSegmented = \"idSeg\" +key\n\n           \n            return([...sampleImages, \n            <div id = {key} hidden>\n                 \n                <div id = \"preprocessedDiv\">\n                    <p>Preprocessed {key}</p>    \n                    <img class=\"contain\" id ={idPreprocessed} src={require(\"../src/images/\" + value[0][\"preprocessed\"])} onClick= {event => displayFullScreen(idPreprocessed)}></img>\n                </div>\n                <div id = \"thresholdedDiv\">\n                    <p>Thresholded {key}</p>\n                    <img class=\"contain\" id ={idThresholded} src={require(\"../src/images/\" + value[1][\"thresholded\"])}  onClick= {event => displayFullScreen(idThresholded)}></img>\n                </div>\n                {segmentation ? (\n                    <div id = \"segmentedDiv\">\n                        <p>Segmented {key}</p>\n                        <img class=\"contain\" id ={idSegmented} src={require(\"../src/images/\" + value[2][\"overlays\"])}  onClick= {event => displayFullScreen(idSegmented)}></img>         \n                    </div>                  \n                ):(<></>)         \n                }   \n            </div>])\n        }))\n\n        //Set marker area plot\n        if(area != \"\"){\n            setAreaPlots(\n                <div>\n                    <p>Measurement of marker positive area</p>\n                    <img id =\"areaPlot\" src={require(\"../src/images/Area/\" + area)} onClick= {event => displayFullScreen(\"areaPlot\")}></img>\n                </div>\n            )\n        }\n        \n    } \n\n\n    const displayFullScreen = (id) => { \n        let elem = document.getElementById(id)\n        if(document.fullscreenElement){\n            document.exitFullscreen()\n        }\n        else{\n            if (elem.requestFullscreen) {\n                elem.requestFullscreen();\n              } else if (elem.webkitRequestFullscreen) { /* Safari */\n                elem.webkitRequestFullscreen();\n              } else if (elem.msRequestFullscreen) { /* IE11 */\n                elem.msRequestFullscreen();\n              }\n        }\n        \n    }\n\n    //Handles changes in the sample drop-down list\n    const handleChangeSelect = (event) => { \n        //displays images/nothing depending of the selected drop-down value\n\n        if(event.target.value == \"None\"){\n            setCheckbox(\"\")  \n        }\n        else{\n            let checked=true\n            setCheckbox(\n            <div class=\"row\">\n                <div class=\"checkbox\">    \n                    <p>Preprocessed image: </p>\n                    <input type = \"checkbox\" id=\"preprocessedImgCheck\" onChange={()=>{handleCheckbox(\"idPre\", \"preprocessedDiv\", \"preprocessedImgCheck\")}} checked=\"\"/>                \n                </div>\n                <div class=\"checkbox\">    \n                    <p>Thresholded image: </p>\n                    <input type = \"checkbox\" id=\"thresholdImgCheck\" onChange={()=>handleCheckbox(\"idThres\", \"thresholdedDiv\", \"thresholdImgCheck\")} checked = \"\"/>                \n                </div>\n                {displaySegmentationCb ? (\n                     <div class=\"checkbox\">    \n                     <p>Segmented image: </p>\n                     <input type = \"checkbox\" id=\"segmentedImgCheck\" onChange={()=>handleCheckbox(\"idSeg\", \"segmentedDiv\", \"segmentedImgCheck\")} checked/>                \n                 </div>               \n                ):(<></>)         \n                }   \n\n               \n            </div>    \n            )    \n        } \n\n        if(event.target.value != \"None\"){\n            document.getElementById(event.target.value).style.display = \"block\"\n        }\n        //Hides images depending of the value\n        if(sample != \"\" && sample != \"None\"){\n            document.getElementById(sample).style.display = \"none\"\n        }\n        sample = event.target.value    \n        \n    }\n\n    const handleCheckbox = (idImg, idDiv, idCb) => {\n\n        var elem = document.getElementById(idDiv)\n        if(window.getComputedStyle(elem).display == \"block\"){\n            console.log(\"HERE\")\n            elem.style.display = \"none\"\n        }\n        else if(window.getComputedStyle(elem).display == \"none\"){\n            elem.style.display =\"block\"\n\n        }\n\n    }\n \n    //Display HTML to the user\n    return(\n        <div>\n            <form class=\"resultsForm\" id=\"resultsForm\">\n                <div hidden id=\"load\">\n                    <p>Running SIMPLI</p>         \n                </div>\n                \n                <div hidden id=\"results\">  \n                    <header>SIMPLI results</header>  \n                    <button id=\"resultsButton\" type=\"button\" onClick={event => displayResults()}>Display results</button>\n                        {dropDown}     \n                        {checkbox}          \n                        \n                    \n                    {sampleImages}\n                    {areaPlots}\n                </div>\n            </form>\n        </div>\n    )\n}\nexport default GetResults;"],"mappings":"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"},"metadata":{},"sourceType":"module"}